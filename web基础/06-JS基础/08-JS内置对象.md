# JSå†…ç½®å¯¹è±¡

åœ¨ `JavaScript` ä¸­ï¼Œå¯¹è±¡æ˜¯ä¸€ç»„æ— åºçš„ç›¸å…³å±æ€§å’Œæ–¹æ³•çš„é›†åˆï¼Œæ‰€æœ‰çš„äº‹ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å€¼ã€æ•°ç»„ã€å‡½æ•°ç­‰ã€‚å¯¹è±¡æ˜¯ç”±å±æ€§å’Œæ–¹æ³•ç»„æˆçš„ã€‚

`JavaScript` ä¸­çš„å¯¹è±¡åˆ†ä¸º3ç§ï¼š**è‡ªå®šä¹‰å¯¹è±¡ã€å†…ç½®å¯¹è±¡ã€æµè§ˆå™¨å¯¹è±¡**ã€‚

å†…ç½®å¯¹è±¡æŒ‡JSè¯­è¨€è‡ªå¸¦çš„ä¸€äº›å¯¹è±¡ï¼Œå®ƒä»¬æä¾›äº†å¸¸ç”¨çš„æˆ–æ˜¯æœ€åŸºæœ¬è€Œå¿…è¦çš„åŠŸèƒ½(å±æ€§å’Œæ–¹æ³•)ã€‚å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå¼€å‘ã€‚

`JavaScript` æä¾›çš„å†…ç½®å¯¹è±¡ï¼š`Math`ã€`Date`ã€`Arrry`ã€`String` ç­‰ã€‚

## ä¸€ã€åˆ›å»ºJSå¯¹è±¡

### 1.1ã€åˆ©ç”¨å­—é¢é‡åˆ›å»ºå•ä¸ªå¯¹è±¡

å¯¹è±¡å­—é¢é‡å°±æ˜¯èŠ±æ‹¬å· {} é‡Œé¢åŒ…å«äº†è¿™ä¸ªå…·ä½“äº‹ç‰©çš„å±æ€§å’Œæ–¹æ³•ã€‚
èŠ±æ‹¬å·{}é‡Œé¢çš„å±æ€§å’Œæ–¹æ³•é‡‡ç”¨é”®å€¼å¯¹çš„å½¢å¼ï¼›
å¤šä¸ªå±æ€§å’Œæ–¹æ³•ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼›	

```javaScript
var objn = {};	// åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡

var obj = {
	uname: 'ç« ä¸‰',
	age: 18,
	sex: 'ç”·',
	sayHi: function () {
		console.log(this.uname + ' de æœ‹å‹ä»¬å¤§å®¶å¥½ï¼');
	}
}

// è®¿é—®å¯¹è±¡å±æ€§çš„ä¸¤ç§æ–¹æ³•ï¼Œéƒ½å¾ˆé‡è¦
console.log(obj.uname, obj.age, obj.sex);
console.log(obj['uname'], obj['age'], obj['sex']);

// è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•
obj.sayHi();
```

### 1.2ã€ä½¿ç”¨ new Object åˆ›å»ºå•ä¸ªå¯¹è±¡

`new Object` æ˜¯ä¸€ä¸ª `js` å†…ç½®æ„é€ å‡½æ•°ï¼Œå®ƒæ¯æ¬¡åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚ éœ€è¦é‡‡ç”¨ ç­‰å·(=)èµ‹å€¼çš„æ–¹å¼ ä¸ºå¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚

```javaScript
var objNew = new Object();
objNew.uname = 'é‡Œæ–¯';
objNew.age = 18;
objNew.sex = 'ç”·';
objNew.sayHi = function () {
	console.log(this.uname + ' de æœ‹å‹ä»¬ä½ å¥½');
}
objNew.sayHi();
```

### 1.3ã€æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡

ç”±äºå‰é¢ä¸¤ç§æ–¹å¼åˆ›å»ºå¯¹è±¡ï¼Œæ¯æ¬¡åªèƒ½åˆ›å»ºä¸€ä¸ªã€‚æ‰€ä»¥ä½¿ç”¨æ„é€ å‡½æ•°æ‰¹é‡åˆ›å»ºå±æ€§å’Œæ–¹æ³•ç›¸åŒçš„å¯¹è±¡ã€‚

æ„é€ å‡½æ•°çš„è¯­æ³•å¦‚ä¸‹ï¼š

```
function æ„é€ å‡½æ•°å() {
	this.å±æ€§ = å€¼;
	this.æ–¹æ³• = function () {}
}
var obj = new æ„é€ å‡½æ•°å(å®å‚1ï¼Œå®å‚2ï¼Œå®å‚3);
```

> æ„é€ å‡½æ•°çº¦å®šé¦–å­—æ¯å¤§å†™ã€‚
> å‡½æ•°å†…çš„å±æ€§å’Œæ–¹æ³•å‰é¢éœ€è¦æ·»åŠ  this ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚
> æ„é€ å‡½æ•°ä¸­ä¸éœ€è¦ return è¿”å›ç»“æœã€‚
> å½“æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œå¿…é¡»ç”¨ new æ¥è°ƒç”¨æ„é€ å‡½æ•°ã€‚

```javaScript
function Star(uname, age, sex) {
	this.uname = uname;
	this.age = age;
	this.sex = sex;

	this.sing = function () {
		console.log(this.uname + 'å–œæ¬¢å”±æ­Œï¼');
	}
}

var lisi = new Star('xiaohong', 20, 'å¥³');
console.log(typeof lisi);
lisi.sing();
```

newå…³é”®å­—çš„ä½œç”¨ï¼š
1ã€åœ¨æ„é€ å‡½æ•°ä»£ç å¼€å§‹æ‰§è¡Œä¹‹å‰ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼›
2ã€ä¿®æ”¹thisçš„æŒ‡å‘ï¼ŒæŠŠthisæŒ‡å‘åˆ›å»ºå‡ºæ¥çš„ç©ºå¯¹è±¡ï¼›
3ã€æ‰§è¡Œå‡½æ•°çš„ä»£ç 
4ã€åœ¨å‡½æ•°å®Œæˆä¹‹åï¼Œè¿”å›this---å³åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡

### 1.4ã€éå†å¯¹è±¡

`for...in` è¯­å¥ç”¨äºå¯¹æ•°ç»„æˆ–è€…å¯¹è±¡çš„å±æ€§è¿›è¡Œå¾ªç¯æ“ä½œã€‚

```javaScript
for (k in lisi) {
	console.log('å¯¹è±¡çš„å±æ€§åæˆ–æ–¹æ³•åï¼š', k);
	console.log('å¯¹è±¡çš„å±æ€§å€¼æˆ–æ–¹æ³•ä½“ï¼š',lisi[k]);
}
```

## äºŒã€å†…ç½®å¯¹è±¡ Math

`Math` å¯¹è±¡ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå®ƒå…·æœ‰æ•°å­¦å¸¸æ•°å’Œå‡½æ•°çš„å±æ€§å’Œæ–¹æ³•ã€‚è·Ÿæ•°å­¦ç›¸å…³çš„è¿ç®—ï¼ˆæ±‚ç»å¯¹å€¼ï¼Œå–æ•´ã€æœ€å¤§å€¼ç­‰ï¼‰å¯ä»¥ä½¿ç”¨ Math ä¸­çš„æˆå‘˜ã€‚

| å±æ€§ã€æ–¹æ³•å          | åŠŸèƒ½                                         |
| --------------------- | -------------------------------------------- |
| Math.PI               | åœ†å‘¨ç‡                                       |
| Math.floor()          | å‘ä¸‹å–æ•´                                     |
| Math.ceil()           | å‘ä¸Šå–æ•´                                     |
| Math.round()          | å››èˆäº”å…¥ç‰ˆ å°±è¿‘å–æ•´   æ³¨æ„ -3.5   ç»“æœæ˜¯  -3 |
| Math.abs()            | ç»å¯¹å€¼                                       |
| Math.max()/Math.min() | æ±‚æœ€å¤§å’Œæœ€å°å€¼                               |
| Math.random()         | è·å–èŒƒå›´åœ¨[0,1)å†…çš„éšæœºå€¼                    |

```javaScript
// æœ€å¤§å€¼
console.log(Math.max(34, -1, 23, 222)); // 222
console.log(Math.max(34, -1, 'abc', 222)); // NaN
console.log(Math.max());	// -Infinity

// ç»å¯¹å€¼
console.log(Math.abs(-19)); // 19
console.log(Math.abs('-1')); // 1ï¼Œä¼šéšå¼è½¬æ¢
console.log(Math.abs('a'));	// NaN

console.log('å‘ä¸‹å–æ•´ï¼š' + Math.floor(3.99)); // 3
console.log('å‘ä¸Šå–æ•´ï¼š' + Math.ceil(3.99)); // 4

console.log(Math.round(3.4), Math.round(3.49)); // å››èˆäº”å…¥ï¼š3  3
console.log(Math.round(-3.1), Math.round(-3.9)) // -3 -4
// æ³¨æ„ï¼šMath.round å››èˆäº”å…¥é‡åˆ°.5æ—¶å¾€å¤§çš„å–å€¼ã€‚å› ä¸º -3æ¯”-4å¤§ï¼Œæ‰€ä»¥-3.5å–-3ã€‚
console.log(Math.round(3.5), Math.round(-3.5)); // 4 -3
	
console.log('è¿”å›[0, 1)åŒºé—´çš„éšæœºå°æ•°ï¼š', Math.random());
```

**è·å–æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°**ï¼š

```javaScript
function getRandom(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min; 
}
```

## ä¸‰ã€å†…ç½®å¯¹è±¡ Date æ—¥æœŸ
â€‹

â€‹`Date` å¯¹è±¡å’Œ `Math` å¯¹è±¡ä¸ä¸€æ ·ï¼Œ`Date` æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦å®ä¾‹åŒ–åæ‰èƒ½ä½¿ç”¨å…¶ä¸­å…·ä½“æ–¹æ³•å’Œå±æ€§ã€‚`Date` å®ä¾‹ç”¨æ¥å¤„ç†æ—¥æœŸå’Œæ—¶é—´ã€‚
â€‹
1ã€å®ä¾‹åŒ–æ—¥æœŸå¯¹è±¡

```javaScript
â€‹var date = new Date(); // è¿”å›ç³»ç»Ÿå½“å‰æ—¥æœŸ
â€‹
â€‹// 2ã€æ ¹æ®æ—¶é—´å‚æ•°åˆ›å»ºDateå¯¹è±¡
// å¸¸ç”¨å‚æ•°å†™æ³•ï¼š2022, 11, 13 or '2022-11-13 21:01:30'(æœ€å¸¸ç”¨)

var date1 = new Date(2022, 11, 13);
console.log(date1); // æ‰“å°å‡ºæ¥ï¼Œå¯ä»¥çœ‹åˆ°æœˆä»½å°äº1ï¼Œå› ä¸ºnumberç±»å‹ä»0å¼€å§‹å–å€¼

var date2 = new Date('2022-11-13 21:01:30');
console.log(date2)
```

â€‹2ã€æ—¥æœŸæ ¼å¼åŒ–
â€‹
```javaScript
â€‹var date = new Date();
â€‹var year = date.getFullYear();
var month = date.getMonth() + 1; // è·å–æœˆ, æœˆä»½ä»0å¼€å§‹ï¼Œ0~11
var dates = date.getDate()
var day = date.getDay() // è·å–å‘¨å‡ ï¼Œä»0ï½6
var arr = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
var dayStr = year + 'å¹´' + month + 'æœˆ' + dates + 'æ—¥' + arr[day];
console.log(dayStr);

var hour = date.getHours();
hour = hour < 10 ? '0' + hour : hour // å°æ—¶è¡¥é›¶ä¿è¯ä¸¤ä½æ•°
var minutes = date.getMinutes();
minutes = minutes < 10 ? '0' + minutes : minutes
var seconds = date.getSeconds();
seconds = seconds < 10 ? '0' + seconds : seconds
dayStr += ' ' + hour + ':' + minutes + ':' + seconds;
console.log(dayStr);
```
â€‹
â€‹3ã€è·å–Dateçš„æ€»æ¯«ç§’æ•°ï¼ˆæ—¶é—´æˆ³ï¼‰è·ç¦»1970.1.1è¿‡äº†å¤šå°‘æ¯«ç§’æ•°ã€‚
â€‹
```javaScript
â€‹// å®ä¾‹åŒ–Dateå¯¹è±¡
var now = new Date();

// 1. ç”¨äºè·å–å¯¹è±¡çš„åŸå§‹å€¼
console.log(now.valueOf())	
console.log(now.getTime())	

// 2. ç®€å•å†™å¯ä»¥è¿™ä¹ˆåšï¼Œæœ€å¸¸ç”¨çš„å†™æ³•
var now = + new Date();			

// 3. HTML5ä¸­æä¾›çš„æ–¹æ³•ï¼Œæœ‰å…¼å®¹æ€§é—®é¢˜
var now = Date.now();
```
â€‹
â€‹ä¾‹å­ğŸŒ°ï¼šè®¡ç®—æ—¶é—´å·®å€¼
â€‹
```javaScript
â€‹<script>
	function countDown(time) {
		var nowTime = +new Date();	//è·å–å½“å‰æ—¶é—´æ¯«ç§’æ•°
		var inputTime = +new Date(time);	//è·å–ç”¨æˆ·è¾“å…¥æ—¶é—´æ¯«ç§’æ•°
		var times = (inputTime - nowTime)/1000; // æ—¶é—´ç§’æ•°å·®

		var d = parseInt(times/60/60/24);
		d = d < 10 ? '0' + d : d;
		var h = parseInt(times/60/60%24);
		h = h < 10 ? '0' + h : h;
		var m = parseInt(times/60%60);
		m = m < 10 ? '0' + m : m;
		var s = parseInt(times%60);
		s = s < 10 ? '0' + s : s;
		return d + 'å¤©' + h + 'æ—¶' + m + 'åˆ†' + s + 'ç§’'
	}
	console.log(countDown('2023-1-1'));    // 47å¤©10æ—¶54åˆ†54ç§’
</script>
```