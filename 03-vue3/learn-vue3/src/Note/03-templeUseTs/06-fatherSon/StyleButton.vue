<script setup lang="ts">

/**
 * ğŸ‘‰ 1ã€ä¸ºç»„ä»¶çš„ props æ ‡æ³¨ç±»å‹
 * ä½œç”¨ï¼š
 *  1. ç¡®ä¿ä¼ é€’çš„propæ˜¯ç±»å‹å®‰å…¨çš„
 *  2. åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨çš„æ—¶å€™ä¹Ÿä¼šæœ‰ç±»å‹æç¤º
 */

// 1ã€é¦–å…ˆä½¿ç”¨ ç±»å‹åˆ«åæˆ–æ¥å£ å®šä¹‰Propsç±»å‹
type BtnType = 'success' | 'danger' | 'warning'
type PropsType = {
  color: string,
  size?: string,
  btnType?: BtnType
}

// 2ã€é€šè¿‡ defineProps å®å‡½æ•°å¯¹ç»„ä»¶ props è¿›è¡Œç±»å‹æ ‡æ³¨
// const props = defineProps<PropsType>() 


/**
 * ğŸ‘‰ 2ã€Propsé»˜è®¤å€¼è®¾ç½®
 * Prop sä¸­çš„å¯é€‰å‚æ•°é€šå¸¸é™¤äº†æŒ‡å®šç±»å‹ä¹‹å¤–è¿˜éœ€è¦æä¾›é»˜è®¤å€¼ï¼Œå¯ä»¥ä½¿ç”¨ withDefaults å®å‡½æ•°æ¥è¿›è¡Œè®¾ç½®
 */

 const props = withDefaults(defineProps<PropsType>(), {
  size: 'middle',
  btnType: 'success'
 })

/**
 * ğŸ‘‰ 3ã€ä¸ºç»„ä»¶çš„emitsæ ‡æ³¨ç±»å‹
 * 
 * è¯­æ³•ï¼šé€šè¿‡ defineEmits å®å‡½æ•°è¿›è¡Œç±»å‹æ ‡æ³¨
 * 
 * ä½œç”¨ï¼šå¯ä»¥çº¦æŸäº‹ä»¶åç§°å¹¶ç»™å‡ºè‡ªåŠ¨æç¤ºï¼Œç¡®ä¿ä¸ä¼šæ‹¼å†™é”™è¯¯ï¼ŒåŒæ—¶çº¦æŸä¼ å‚ç±»å‹ï¼Œä¸ä¼šå‘ç”Ÿå‚æ•°ç±»å‹é”™è¯¯
 */

type ListItem = {
  name: string, 
  age: number
}

// 1ã€å®šä¹‰Emitsç±»å‹
type ClickEmits = {
  (e: 'get-msg', msg: string): void,
  (e: 'get-list', list: ListItem[]): void
}
// 2ã€ç»™defineEmitsä¼ é€’æ³›å‹å‚æ•°
const emit = defineEmits<ClickEmits>()

const clickHandler = () => {
  emit('get-msg', 'æˆ‘æ˜¯å­ç»„ä»¶')
  emit('get-list', [{name: 'jack', age: 18}])
}


</script>

<template>
  <div>
    <button @click="clickHandler">æŒ‰é’®ç»„ä»¶</button>
  </div>
</template>

<style scoped>

</style>