# ES6æ–°å¢å¸¸ç”¨è¯­æ³•ç‚¹

## ä¸€ã€let å’Œ const å˜é‡

### 1.1ã€let å˜é‡

ES6 ä¸­æ–°å¢ `let` å…³é”®å­—å£°æ˜å˜é‡ã€‚ä½¿ç”¨ let å£°æ˜çš„å˜é‡å…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œlet å˜é‡åªåœ¨å—çº§ä½œç”¨åŸŸæœ‰æ•ˆã€‚å—çº§ä½œç”¨åŸŸæ˜¯æŒ‡å¤§æ‹¬å·å†…éƒ¨ï¼Œå¦‚ï¼š if () {} ç­‰ã€‚

```javaScript
if (true) {
	let a = 100;
	var b = 200;
}
console.log(b); // var å˜é‡å¯ä»¥åœ¨å¤§æ‹¬å·å¤–éƒ¨è®¿é—®
// console.log(a); // æŠ¥é”™ï¼ša is not defined
```

```javaScript
for (var i = 0; i < 10; i++) {
}
console.log(i);	// 10

// let å˜é‡é˜²æ­¢forå¾ªç¯å˜é‡å˜æˆå…¨å±€å˜é‡
for (let j = 0; j < 10; j++) {
}
console.log(j);	// æŠ¥é”™ï¼šj is not defined
```

* ä½¿ç”¨letå£°æ˜çš„å˜é‡æ²¡æœ‰å˜é‡æå‡ã€‚æ‰€ä»¥ä½¿ç”¨letå˜é‡å¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ã€‚

```javaScript
console.log(a); // æŠ¥é”™ï¼šCannot access 'a' before initialization
let a = 100;
```

* ä½¿ç”¨letå£°æ˜çš„å˜é‡ï¼Œå…·æœ‰æš‚æ—¶æ€§æ­»åŒºç‰¹æ€§ã€‚letå˜é‡ä¼šè¢«æ•´ä½“ç»‘å®šåˆ°å—çº§ä½œç”¨åŸŸï¼Œä¸å†å—å¤–éƒ¨å½±å“ã€‚

```javaScript
var num = 12;
if (true) {
	num = 20; // æŠ¥é”™ï¼šCannot access 'num' before initialization
	let num = 10;	
	// å› ä¸ºå½“å‰å—çº§ä½œç”¨åŸŸæœ‰ä¸€ä¸ªnumåç§°çš„å˜é‡ï¼Œæ‰€ä»¥ä¼šç›´æ¥è®¿é—®å—çº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œè€Œä¸ä¼šè®¿é—®å¤–éƒ¨çš„å˜é‡ã€‚
}
```

**ä¾‹å­ğŸŒ°1:**
```javascript
 var arr = [];
 for (var i = 0; i < 2; i++) {
     arr[i] = function () {
         console.log(i); 
     }
 }
 arr[0](); // 2
 arr[1](); // 2
```

**ä¾‹å­ğŸŒ°2:**

```javascript
let arr = [];
for (let i = 0; i < 2; i++) {
    arr[i] = function () {
        console.log(i); 
    }
}
arr[0](); // 0
arr[1](); // 1
// æ¯æ¬¡å¾ªç¯éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ¯ä¸ªå—çº§ä½œç”¨åŸŸä¸­çš„å˜é‡éƒ½æ˜¯ä¸åŒçš„ï¼Œå‡½æ•°æ‰§è¡Œæ—¶è¾“å‡ºçš„æ˜¯è‡ªå·±ä¸Šä¸€çº§ï¼ˆå¾ªç¯äº§ç”Ÿçš„å—çº§ä½œç”¨åŸŸï¼‰ä½œç”¨åŸŸä¸‹çš„iå€¼.
```

### 1.2ã€const å˜é‡

constå…³é”®å­—å£°æ˜å¸¸é‡ã€‚å¸¸é‡å°±æ˜¯å€¼(å†…å­˜åœ°å€)ä¸èƒ½å‘ç”Ÿå˜åŒ–ã€‚

* constå¸¸é‡å…·æœ‰å—çº§ä½œç”¨åŸŸ

```javaScript
if (true) {
	const a = 10;
	if (true) {
		const a = 20;
		console.log(a); // æ‰“å°ï¼š20
	}
	console.log(a); // æ‰“å°ï¼š10
}
console.log(a); //æŠ¥é”™ï¼ša is not defined
```
* ä½¿ç”¨constå£°æ˜å¸¸é‡å¿…é¡»èµ‹åˆå§‹å€¼ã€‚constå£°æ˜å¸¸é‡èµ‹å€¼åï¼Œå€¼ä¸èƒ½ä¿®æ”¹ã€‚

```javaScript
const num = 100;
num = 200; //æŠ¥é”™ï¼šAssignment to constant variable.

const arr = [1, 2, 3];
arr[0] = 3;
arr = [3, 2, 3]; //æŠ¥é”™ï¼š Assignment to constant variable.
```

## äºŒã€è§£æ„èµ‹å€¼

è§£æ„èµ‹å€¼ï¼šç»“æ„ ä»£è¡¨åˆ†è§£æ•°æ®ç»“æ„ï¼Œèµ‹å€¼ æŒ‡çš„æ˜¯ç»™å˜é‡èµ‹å€¼ã€‚
åœ¨ES6ä¸­å…è®¸æŒ‰ç…§ä¸€ä¸€å¯¹åº”çš„æ–¹å¼ä» å¯¹è±¡æˆ–æ•°ç»„ ä¸­æå–å€¼ï¼Œå†å°†æå–çš„å€¼èµ‹å€¼ç»™å˜é‡ã€‚

* æ•°ç»„è§£æ„èµ‹å€¼

```javaScript
let [a, b, c] = ['a', undefined, 123, false];
console.log(a, b, c); //æ‰“å°ï¼ša undefined 123

let [d, e] = [1];
console.log(e);	// æ‰“å°ï¼šundefinedï¼Œè¡¨ç¤ºç»“æ„èµ‹å€¼ä¸æˆåŠŸ
```

* å¯¹è±¡è§£æ„èµ‹å€¼ï¼Œå¯¹è±¡çš„è§£æ„åœ¨ç­‰å·çš„å·¦è¾¹ç”¨å¤§æ‹¬å·è¡¨ç¤º {}ï¼Œå¤§æ‹¬å·ä¸­çš„å˜é‡åå’Œå¯¹è±¡çš„å±æ€§è¿›è¡ŒåŒ¹é…ã€‚

```javaScript
let p = {
	name: 'ç« ä¸‰',
	age : 20,
	sayHi: function () {
		console.log(this.name + ' de æœ‹å‹ä»¬å¤§å®¶å¥½ï¼');
	}
}
// æ–¹å¼ä¸€ï¼Œå¿…é¡»ä¿è¯å˜é‡åå’Œå¯¹è±¡å±æ€§åä¸€æ ·
let {name} = p;
console.log(name); // ç« ä¸‰

//æ–¹å¼äºŒï¼Œnameç”¨äºåŒ¹é…å±æ€§ï¼Œaä¸ºå®šä¹‰çš„å˜é‡ã€‚
let {name: nm, age: ag} = p;
console.log(nm, ag); // ç« ä¸‰ 20
```

## ä¸‰ã€å‰©ä½™å‚æ•°

å‰©ä½™å‚æ•°è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸å®šæ•°é‡çš„å‚æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°ç»„ï¼Œä¸å®šå‚æ•°å®šä¹‰æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å¾ˆæ–¹ä¾¿çš„å»å£°æ˜ä¸çŸ¥é“å‚æ•°æƒ…å†µä¸‹çš„ä¸€ä¸ªå‡½æ•°

```javaScript
function sum(first, ...args) {
	console.log(first, Array.isArray(args), args);
}
sum(1); // 1 true []
sum(10, 20, 30); // 10 true (2) [20, 30]
```

* å‰©ä½™å‚æ•°å’Œè§£æ„èµ‹å€¼é…åˆä½¿ç”¨

```javaScript
let arr = ['ç« ä¸‰', 'é‡Œæ–¯', 'ç‹æ­¦', 'èµµä»»'];
let [ar1, ...ar2] = arr;
console.log(ar1, ar2); //ç« ä¸‰ ['é‡Œæ–¯', 'ç‹æ­¦', 'èµµä»»']
```

## å››ã€æ‰©å±•è¿ç®—ç¬¦ï¼Œå³å±•å¼€è¯­æ³•

æ‰©å±•è¿ç®—ç¬¦å¯ä»¥æŠŠæ•°ç»„æˆ–è€…å¯¹è±¡è½¬åŒ–ä¸º **ç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—**ã€‚

* 1ã€æ‰©å±•è¿ç®—ç¬¦æŠŠæ•°ç»„å±•å¼€ä¸ºå‚æ•°åºåˆ—

```javaScript
let arr = [1, 2, 3];
console.log(...arr); // 1 2 3

function test(a, b, c) {
	console.log(a, b, c); 
}
test(...arr); // 1 2 3
```

* 2ã€æ‰©å±•è¿ç®—ç¬¦ç”¨äºå‡½æ•°åˆå¹¶

```javaScript
var arr1 = ['a', 'b'];
var arr2 = [1, 3];
// æ–¹å¼ä¸€
var arr3 = [...arr1, ...arr2];
console.log(arr3); // ['a', 'b', 1, 3]

// æ–¹å¼äºŒ
arr1.push(...arr3);
console.log(arr1); // ['a', 'b', 'a', 'b', 1, 3]
```
* 3ã€æ‰©å±•è¿ç®—ç¬¦æŠŠä¼ªæ•°ç»„è½¬æ¢ä¸ºçœŸæ•°ç»„

```javaScript
<div>1</div>
<div>2</div>
<div>3</div>

var oDivs = document.getElementsByTagName('div');
console.log(oDivs);
var ary = [...oDivs];
console.log(ary); // [div, div, div]
```
* 4ã€å±•å¼€å¯¹è±¡ï¼Œä¼šæŠ¥é”™ï¼Œåç»­æ€»ç»“

[Spread syntax (...)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax)

```javaScript

```