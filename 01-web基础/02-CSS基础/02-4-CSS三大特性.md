# CSS三大特性

## CSS层叠性

所谓层叠性是指多种CSS样式的叠加。

是浏览器处理冲突的一个能力，如果一个属性通过两个相同选择器设置到同一个元素上，那么这个时候一个属性就会将另一个属性层叠掉。

CSS层叠性遵循的规则：

* 如果样式冲突，遵循的原则是**就近原则。** 那个CSS样式离着HTML结构近，就执行那个样式。

* 样式不冲突，不会层叠

如下所示：`color: green;` 离 `span` 更近，所以显示绿色。

```
<style>
	span {
		color: yellow;
	}
	span {
		color: green;
	}
</style>

<span>好好学习</span>
```

## CSS继承性

子标签会继承父标签的某些样式，如文本颜色和字号。想要设置一个可继承的属性，只需将它应用于父元素即可。

**注意**：

- 恰当地使用继承可以简化代码，降低CSS样式的复杂性。比如有很多子级孩子都需要某个样式，可以给父级指定一个，这些孩子继承过来就好了。

- 子元素可以继承父元素的样式（**text-，font-，line-这些元素开头的可以继承，以及color属性**）

如下示例：`p`标签的样式继承自 `div`。

```
<style>
    div {
			color: purple;
		}
</style>

<div>
	<p>会当凌绝顶</p>
	<p>一览众山小</p>
</div>
```

## CSS优先级

定义CSS样式时，经常出现两个或更多规则应用在同一元素上，此时，

> **选择器相同，则执行层叠性**
>
> **选择器不同，就会出现优先级的问题。**

如下示例，由于权重的原因，`span`标签中的元素显示为`blue`：

```
<style>
    .sty {
    	color: blue;
    }
    
    span {
    	color: red;
    }
</style>

<span class="sty">好好学习</span>
```

### 权重计算公式

关于CSS权重，我们需要一套计算公式来去计算，这个就是 CSS Specificity（特殊性）

| 标签选择器             | 计算权重公式 |
| ---------------------- | ------------ |
| 继承 或者 *             | 0,0,0,0      |
| 每个元素（标签选择器） | 0,0,0,1      |
| 每个类，伪类           | 0,0,1,0      |
| 每个ID                 | 0,1,0,0      |
| 每个行内样式 style=""  | 1,0,0,0      |
| 每个!important  重要的 | ∞ 无穷大     |

* 计算权重公式的值从左到右，左面的最大，一级大于一级，数位之间没有进制，级别之间不可超越。 

* 关于CSS权重，我们需要一套计算公式来去计算，这个就是 CSS Specificity（特殊性）

* div {
    color: pink!important;  
}


```
<style>
	.poetry p {
		color: red;
	}
	.first {
		color: blue;
	}
</style>

<div class="poetry">
	<p class="first">露从今夜白</p>
	<p>月是故乡明</p>
</div>
```

上面例子，是希望把第一个 `p` 显示为 `blue` 蓝色，可是修改失败。以为对于第一个 `p` 标签而言，它有两个选择器，`.poetry p`后代选择器的权重比 `.first` 类选择器的权重高。

### 权重叠加

我们经常用交集选择器，后代选择器等，是有多个基础选择器组合而成，那么此时，就会出现权重叠加。

如下所示，就是一个简单的加法计算

```
div ul  li   ------>      0,0,0,3
.nav ul li   ------>      0,0,1,2
a:hover      -----—>      0,0,1,1
.nav a       ------>      0,0,1,1
```
进行权重叠加时，权重公式数位之间没有进制 比如说： 0,0,0,5 + 0,0,0,5 = 0,0,0,10 而不是 0,0, 1, 0， 所以不会存在10个div能赶上一个类选择器的情况。

#### 特别注意继承的权重是0

其实，**修改样式，一定要看该标签有没有被选中。**

1） **如果选中了，那么以上面的公式来计权重。谁大听谁的。** 
2） **如果没有选中，那么权重是0，因为继承的权重为0.**

> 又可以这样理解 “继承的权重是0”，因为继承不是直接选中元素的，所以权重自然最低。

如下示例，文本显示为 `green`。虽然 `.poetry`类选择器 比 `p`标签选择器的权重大，但是对于 `p` 来说`.poetry`是继承过来的，所以权重为0。

```
<style>
	.poetry {
		color: red;
	}
	p {
		color: green;
	}
</style>

<div class="poetry">
	<p>露从今夜白</p>
	<p>月是故乡明</p>
</div>
```

其它示例：标签也是显示为blue蓝色。

```
<style>
	#father #son{ 
		color:blue;
	}
	#father p.c2{ 
		color:black;
	}
	div.c1 p.c2{  
		color:red;
	}
	#father{
		color:green !important;
	}
</style>

<div id="father" class="c1">
	<p id="son" class="c2">
		试问这行字体是什么颜色的？
	</p>
</div>
```

## 总结

CSS三大特性：层叠性，继承性 和 优先级。

当选择器相同，CSS样式发生冲突时，则遵循就近原则，显示离HTML结构近的样式。

子级会继承父级的样式，通常用于通用样式来设置。

当选中元素的选择器不同时，则根据优先级来确定元素的样式，根据权重计算公式来比较。

