# 存在账号体系，需接入【抖音一键登录】

小程序内存在帐号登录体系时，必须包含平台授权登录方式：获取用户抖音信息登录 或 获取用户手机号登录，两种平台授权登录方式包含其中一个即可。

1、获取用户抖音信息登录，【无需申请可直接使用】，详见：https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/open-capacity/basic-capacities/obtain-user-douyin-info
<https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/api/open-interface/log-in/tt-login>

2、获取用户手机号登录，【需在小程序上线之后进行申请】，详见：https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/open-capacity/basic-capacities/obtain-mobilenumber


## 抖音登录报错
vue3+ts+uni-app开发抖音小程序调用如下代码：

```vue
<button class="dy-btn" @click="dyProfile">抖音一键登录</button>

const dyProfile = () => {
  uni.getUserProfile({
    success: (profile)=>{
      console.log("--- profile = ", profile);
    },
    fail: (error)=>{
      console.log("--- profile error = ", error);
    },
  })
}
```

点击按钮后报错如下：`getUserProfile:fail must be invoked by user tap gesture` 该如何解决？
解决：为 button 组件配置 `data-eventsync="true"` 属性。
```vue
<button class="dy-btn" @click="dyProfile" data-eventsync="true"></button>
```

