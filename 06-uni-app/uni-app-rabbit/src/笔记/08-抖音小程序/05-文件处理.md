# FileSystemManager


## 1、删除用户目录下所有文件

抖音小程序开发报错:"writeFile:fail user dir saved file size limit exceeded"，表示在使用 FileSystemManager.writeFile 方法时，超出了用户目录大小限制。每个小程序的用户目录存储上限为 10M。若写入文件导致超出此限制，就会出现该错误提示。

```ts
const fileSystemManager = uni.getFileSystemManager();
fileSystemManager.getSavedFileList({
  success(res) {
    res.fileList.forEach((item) => {
      console.log("删除 - ", item.filePath, item.createTime, item.size)
      fileSystemManager.removeSavedFile({
        filePath: item.filePath,
        success(res) {
          console.log(`${item.filePath} 删除成功`)
        },
        fail(res) {
          console.error(`${item.filePath} 删除失败`, res.errMsg)
        },
      })
    })
  },
  fail(res) {
    console.log("获取失败", res.errMsg)
  },
})
```
